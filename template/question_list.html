<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="/template/resource/app.css" rel="stylesheet">
    <script src="/template/resource/jquery.min.js"></script>
    <link href="/template/resource/bootstrap.min.css" rel="stylesheet">
    <script src="/template/resource/bootstrap.bundle.min.js"></script>
    <link rel="icon" href="/favicon.png" type="image/png" sizes="16x16">
    <link  href="/template/resource/highlight.css" rel="stylesheet">
    <script src="/template/resource/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
    <link href="/template/resource/app.css" rel="stylesheet">
    <title>Question List</title>
</head>

<body>

    <!-- HEADER -->
    <?php include __DIR__.'/static/header.html';?>

    <!-- BODY -->
    <div class="container mt-4">

        <div class="mb-3 pt-2 pb-2">
            <div class="row">
                <div class="col h5 text-secondary">
                    <?php echo $exam->title ?>
                </div>
                <div class="col text-end">
                    <a class="btn btn-sm btn-outline-primary" href="/question/add/<?php echo $exam['id'] ?>" role="button">Add Question</a>
                </div>
            </div>
        </div>
        <!-- Question List -->
        <div class="mt-3">
            <table class="table table-bordered">
                <thead class="bg-light text-secondary">
                    <tr>
                        <th scope="col">Question</th>
                        <th scope="col">Info</th>
                        <th scope="col">Edit</th>
                    </tr>
                </thead>
                <tbody>
                    <?php foreach ($questionlist as $question) { ?>
                    <tr>
                        <td> 
                            <div class="mb-2 h6"><pre><?php echo $question['question'] ?></pre></div>
                            <div class="">
                                <div class="p-1 ">
                                    <span class="badge <?php echo $question['ans'] == 1 ? 'bg-success text-white' : 'bg-light text-secondary' ?>">1</span>
                                    <?php echo $question['option_one'] ?>
                                </div>
                                <div class="p-1 ">
                                    <span class="badge <?php echo $question['ans'] == 2 ? 'bg-success text-white' : 'bg-light text-secondary' ?>">2</span>
                                    <?php echo $question['option_two'] ?>
                                </div>
                                <div class="p-1 ">
                                    <span class="badge <?php echo $question['ans'] == 3 ? 'bg-success text-white' : 'bg-light text-secondary' ?>">3</span>
                                    <?php echo $question['option_three'] ?>
                                </div>
                                <div class="p-1 ">
                                    <span class="badge <?php echo $question['ans'] == 4 ? 'bg-success text-white' : 'bg-light text-secondary' ?>">4</span>
                                    <?php echo $question['option_four'] ?>
                                </div>
                            </div>
                        </td>
                        <td>
                            <div class="small">
                                <div class=""><?php echo $question['total_attempt'] ?> Total Attempt </div>
                                <div class="text-success"><?php echo $question['correct_attempt'] ?> Correct Attempt</div>
                            </div>
                        </td>
                        <td><a class="btn btn-sm btn-light" href="/question/edit/<?php echo $question['id'] ?>" role="button">Edit</a></td>
                    </tr>
                    <?php } ?>
                </tbody>
            </table>
        </div>

        <div class="mb-5">
            <nav>
                <ul class="pagination justify-content-center">
                    <li class="page-item <?php echo $currentPage==1? 'disabled':'' ?>">
                        <a class="page-link" href="/question/list/<?php echo $exam->id ?>/<?php echo $currentPage-1 ?>/<?php echo $pages ?>">Prev</a>
                    </li>
                
                    <?php for($i = 1; $i <= $pages; $i++) {?>
                        <?php if($i!=$currentPage) { ?>
                        <li class="page-item"><a class="page-link" href="/question/list/<?php echo $exam->id ?>/<?php echo $i ?>/<?php echo $pages ?>"><?php echo $i ?></a></li>
                        <?php } else { ?>
                        <li class="page-item active" aria-current="page">
                            <span class="page-link"><?php echo $i ?></span>
                        </li>
                        <?php } ?>
                    <?php } ?>
                
                    <li class="page-item <?php echo $currentPage==$pages? 'disabled':'' ?>">
                        <a class="page-link" href="/question/list/<?php echo $exam->id ?>/<?php echo $currentPage+1 ?>/<?php echo $pages ?>">Next</a>
                    </li>
                </ul>
              </nav>
        </div>


    </div>





    <!-- FOOTER -->
    <?php include __DIR__.'/static/footer.html';?>
</body>

</html>